# 工具

## 严格模式

StrictMode 本质是一个组件，该组件不进行UI渲染（就像 React.Fragment 也不进行 UI 渲染），它的作用的是: 在渲染内部组件时，发现不合适的代码，会有警告。

+ 识别不安全的生命周期

+ 管事使用过时字符串ref API 的警告

  ```jsx
  // 不推荐使用下面这种方式，react 推荐使用 createRef()
  <div ref='divText'></div>
  ```

  

+ 关于使用废弃的 findDOMNode 方法的警告

+ 检测意外的副作用

  + React要求，副作用代码仅出现在以下生命周期函数中
    + componentDidMount
    + componentDidUpdate
    + componentWillUnmount

  > 副作用：一个函数中，做了一些会影响函数外部数据的事情。
  >
  > 例如：异步处理（setTimeout，ajax），改变参数值，setState，本地存储，改变函数外部的变量

  > 纯函数：一个函数没有副作用，则该函数被认为是纯函数
  >
  > 在严格模式下，虽然不能监控到具体的副作用代码，但他会将不能具有副作用的函数调用两遍，以便开发发现问题。这种情况，只在开发模式下有效。

+ 检测过时的 context API



## Profiler

性能分析工具。

分析某次火多次提交（更新），涉及到的组件渲染时间。

火焰图：得到某一次提交，每个组件总的渲染时间以及自身的渲染时间。

排序图：得到某一次提交，每个组件自身渲染时间的排序。

组件图：某一个组件，在多次提交中，自身渲染花费的时间。